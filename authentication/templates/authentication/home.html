{% extends 'base.html' %}
{% load static humanize %}
{% block title %}Home â€¢ RagaSpace{% endblock %}
{% block page_shell_class %}relative flex min-h-screen w-full flex-col px-0 pb-0 pt-0{% endblock %}
{% block main_class %}flex-1 flex flex-col gap-0{% endblock %}
{% block navbar_extra %}

{% endblock %}
{% block content %}
<section class="relative isolate w-full">
  <img
  src="https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=1920&q=80"
  alt="Athletes training across multiple sports"
  class="h-[65vh] w-full object-cover sm:h-[70vh] lg:h-[75vh]"
  onerror="this.style.display='none'"
/>
  <div class="absolute inset-0 bg-gradient-to-br from-slate-950/40 via-slate-950/35 to-slate-950/75"></div>
  <div class="absolute inset-0 flex items-center justify-center px-4 sm:px-6 lg:px-10">
    <div class="w-full max-w-5xl" data-animate>
      <form
        method="get"
        action="{% url 'catalog' %}"
        class="flex w-full flex-wrap items-center justify-center gap-6 rounded-[2.75rem] border border-white/15 bg-slate-950/80 px-6 py-6 text-white/90 shadow-2xl shadow-slate-950/50 backdrop-blur-2xl md:flex-nowrap md:gap-20 md:px-12"
      >
        <div class="flex w-full flex-col gap-3 md:w-auto">
          <span class="flex items-center gap-2 text-sm font-medium text-white">
            <svg xmlns="" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
            </svg>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">All cities</span>
          </span>
          {{ global_filter_form.city }}
        </div>
        <div class="flex w-full flex-col gap-3 md:w-auto">
          <span class="flex items-center gap-2 text-sm font-medium text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l3 3" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">All categories</span>
          </span>
          {{ global_filter_form.category }}
        </div>
        <div class="flex w-full flex-col gap-3 md:w-auto">
          <span class="flex items-center gap-2 text-sm font-medium text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h6" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 12A9 9 0 113 12a9 9 0 0118 0z" />
            </svg>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">Max price</span>
          </span>
          {{ global_filter_form.max_price }}
        </div>
        <button
          type="submit"
          class="w-full rounded-2xl bg-[#1B89AE] px-6 py-3 text-sm font-semibold text-white transition-colors duration-150 hover:bg-[#15647F] md:w-auto"
        >
          Search
        </button>
      </form>
    </div>
  </div>
</section>
<section class="flex w-full flex-col" data-animate>
  <div class="relative isolate w-full overflow-hidden bg-gradient-to-r from-cyan-500/10 via-white/10 to-emerald-500/10 py-12 sm:py-16">
    <div class="pointer-events-none absolute inset-0 opacity-60">
      <div class="absolute -top-20 -right-20 h-56 w-56 rounded-full bg-cyan-400/30 blur-3xl"></div>
      <div class="absolute -bottom-24 -left-10 h-64 w-64 rounded-full bg-emerald-400/25 blur-3xl"></div>
      <div class="absolute inset-x-0 bottom-0 h-40 bg-gradient-to-t from-slate-950 to-transparent"></div>
    </div>
    <div style="max-width: 85rem;" class="relative mx-auto flex w-full flex-col gap-8 px-6 text-white sm:px-10">
      <div class="flex flex-col items-center gap-2 text-center">
        <span class="text-xs font-semibold uppercase tracking-[0.35em] text-white/60">Penyewaan Lapangan Terbaik</span>
        <h2 class="text-3xl font-semibold tracking-tight sm:text-4xl">ONLY ON RAGASPACE</h2>
        <p class="max-w-3xl text-sm text-white/70 sm:text-base">
          Temukan dan sewa lapangan olahraga terbaik di kota Anda dengan mudah dan cepat melalui RagaSpace
      
        </p>
      </div>
      <!-- Ganti seluruh bagian sports-marquee-group dengan kode ini -->
<div class="sports-marquee-group">
  <!-- Marquee Baris Pertama (kiri ke kanan) -->
  <div class="sports-marquee">
    <span class="sports-marquee__fade sports-marquee__fade--left" aria-hidden="false"></span>
    <span class="sports-marquee__fade sports-marquee__fade--right" aria-hidden="false"></span>
    
    <div class="sports-marquee__track">
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--padel">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="false">
            <path d="M28 10c-8 0-14 6-14 14s6 14 14 14 14-6 14-14S36 10 28 10z" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M28 38l-8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M34 40l8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="24" cy="18" r="1.8" fill="currentColor" stroke="none" opacity="0.85"></circle>
            <circle cx="32" cy="20" r="1.8" fill="currentColor" stroke="none" opacity="0.75"></circle>
            <circle cx="24" cy="26" r="1.8" fill="currentColor" stroke="none" opacity="0.75"></circle>
            <circle cx="30" cy="28" r="1.8" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Padel</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--tennis">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M24 24c-4-4-4-12 0-16s12-4 16 0 4 12 0 16-12 4-16 0z" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M24 24l-8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M22 34l8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="42" cy="36" r="6" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Tennis</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--badminton">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M16 36l12-12" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M28 24l12-12" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M16 20l8-8" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="42" cy="18" r="5" fill="currentColor" stroke="none" opacity="0.9"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Badminton</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--basketball">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <circle cx="24" cy="24" r="12" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M12 24h24" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
            <path d="M24 12c4 6 4 18 0 24" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Basket</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--soccer">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <circle cx="24" cy="24" r="12" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M24 12l6 6-6 6-6-6z" stroke-linejoin="round"></path>
            <path d="M12 24l6 4" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M36 24l-6 4" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Sepak Bola</span>
      </div>
    </div>
    
    <!-- Duplicate track untuk seamless loop -->
    <div class="sports-marquee__track" aria-hidden="true">
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--padel">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M28 10c-8 0-14 6-14 14s6 14 14 14 14-6 14-14S36 10 28 10z" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M28 38l-8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M34 40l8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="24" cy="18" r="1.8" fill="currentColor" stroke="none" opacity="0.85"></circle>
            <circle cx="32" cy="20" r="1.8" fill="currentColor" stroke="none" opacity="0.75"></circle>
            <circle cx="24" cy="26" r="1.8" fill="currentColor" stroke="none" opacity="0.75"></circle>
            <circle cx="30" cy="28" r="1.8" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Padel</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--tennis">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M24 24c-4-4-4-12 0-16s12-4 16 0 4 12 0 16-12 4-16 0z" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M24 24l-8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M22 34l8 8" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="42" cy="36" r="6" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Tennis</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--badminton">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M16 36l12-12" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M28 24l12-12" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M16 20l8-8" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="42" cy="18" r="5" fill="currentColor" stroke="none" opacity="0.9"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Badminton</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--basketball">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <circle cx="24" cy="24" r="12" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M12 24h24" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
            <path d="M24 12c4 6 4 18 0 24" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Basket</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--soccer">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <circle cx="24" cy="24" r="12" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M24 12l6 6-6 6-6-6z" stroke-linejoin="round"></path>
            <path d="M12 24l6 4" stroke-linecap="round" stroke-linejoin="round"></path>
            <path d="M36 24l-6 4" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Sepak Bola</span>
      </div>
    </div>
  </div>
  
  <!-- Marquee Baris Kedua (kanan ke kiri) -->
  <div class="sports-marquee sports-marquee--reverse">
    <span class="sports-marquee__fade sports-marquee__fade--left" aria-hidden="true"></span>
    <span class="sports-marquee__fade sports-marquee__fade--right" aria-hidden="true"></span>
    
    <div class="sports-marquee__track">
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--minisoccer">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <rect x="12" y="16" width="32" height="24" rx="4" stroke-linejoin="round"></rect>
            <path d="M28 16v24" stroke-linecap="round" stroke-opacity="0.7"></path>
            <path d="M12 28h32" stroke-linecap="round" stroke-opacity="0.7"></path>
            <circle cx="28" cy="28" r="4" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Mini Soccer</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--futsal">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <rect x="14" y="18" width="32" height="20" rx="6" stroke-linejoin="round"></rect>
            <circle cx="30" cy="28" r="6" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M14 28h10" stroke-linecap="round" stroke-opacity="0.65"></path>
            <path d="M36 28h10" stroke-linecap="round" stroke-opacity="0.65"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Futsal</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--billiard">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M16 40l12-20 12 20H16z" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="28" cy="26" r="4" fill="currentColor" stroke="none" opacity="0.85"></circle>
            <circle cx="22" cy="36" r="3" fill="currentColor" stroke="none" opacity="0.75"></circle>
            <circle cx="34" cy="36" r="3" fill="currentColor" stroke="none" opacity="0.75"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Billiard</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--tabletennis">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M36 28a12 12 0 10-17 17" stroke-linecap="round" stroke-opacity="0.85"></path>
            <path d="M19 45l9 9" stroke-linecap="round"></path>
            <circle cx="44" cy="20" r="6" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Tenis Meja</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--volley">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <circle cx="24" cy="24" r="12" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M14 14c8 4 12 8 20 20" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
            <path d="M12 24h24" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Volley Ball</span>
      </div>
    </div>
    
    <!-- Duplicate track untuk seamless loop -->
    <div class="sports-marquee__track" aria-hidden="true">
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--minisoccer">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <rect x="12" y="16" width="32" height="24" rx="4" stroke-linejoin="round"></rect>
            <path d="M28 16v24" stroke-linecap="round" stroke-opacity="0.7"></path>
            <path d="M12 28h32" stroke-linecap="round" stroke-opacity="0.7"></path>
            <circle cx="28" cy="28" r="4" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Mini Soccer</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--futsal">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <rect x="14" y="18" width="32" height="20" rx="6" stroke-linejoin="round"></rect>
            <circle cx="30" cy="28" r="6" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M14 28h10" stroke-linecap="round" stroke-opacity="0.65"></path>
            <path d="M36 28h10" stroke-linecap="round" stroke-opacity="0.65"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Futsal</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--billiard">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M16 40l12-20 12 20H16z" stroke-linecap="round" stroke-linejoin="round"></path>
            <circle cx="28" cy="26" r="4" fill="currentColor" stroke="none" opacity="0.85"></circle>
            <circle cx="22" cy="36" r="3" fill="currentColor" stroke="none" opacity="0.75"></circle>
            <circle cx="34" cy="36" r="3" fill="currentColor" stroke="none" opacity="0.75"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Billiard</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--tabletennis">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <path d="M36 28a12 12 0 10-17 17" stroke-linecap="round" stroke-opacity="0.85"></path>
            <path d="M19 45l9 9" stroke-linecap="round"></path>
            <circle cx="44" cy="20" r="6" fill="currentColor" stroke="none" opacity="0.85"></circle>
          </svg>
        </span>
        <span class="sports-marquee__label">Tenis Meja</span>
      </div>
      
      <div class="sports-marquee__item">
        <span class="sports-marquee__icon sports-marquee__icon--volley">
          <svg viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
            <circle cx="24" cy="24" r="12" stroke-linecap="round" stroke-linejoin="round"></circle>
            <path d="M14 14c8 4 12 8 20 20" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
            <path d="M12 24h24" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.75"></path>
          </svg>
        </span>
        <span class="sports-marquee__label">Volley Ball</span>
      </div>
    </div>
  </div>
</div>
  <!-- Ganti section ini dengan design yang lebih elegan -->
<!-- GANTI bagian ini di template Anda (mulai dari line sekitar 120-an) -->
<!-- Dari: <div class="relative w-full overflow-hidden bg-gradient-to-br..."> -->
<!-- Sampai: </div> (penutup section cards) -->

<div style="border-radius: 30px" class="relative w-full overflow-hidden bg-gradient-to-br from-slate-50 via-white to-cyan-50/30 py-16 sm:py-20" data-animate>
  <!-- Decorative background elements -->
  <div class="pointer-events-none absolute inset-0 overflow-hidden">
    <div class="absolute -top-40 -right-40 h-96 w-96 rounded-full bg-cyan-100/40 blur-3xl"></div>
    <div class="absolute -bottom-40 -left-40 h-96 w-96 rounded-full bg-sky-100/40 blur-3xl"></div>
    <div class="absolute top-1/2 left-1/2 h-64 w-64 -translate-x-1/2 -translate-y-1/2 rounded-full bg-gradient-to-br from-cyan-100/30 to-blue-100/30 blur-2xl"></div>
  </div>

  <!-- Subtle grid pattern -->
  <div class="pointer-events-none absolute inset-0 bg-[linear-gradient(to_right,#38bdf8_1px,transparent_1px),linear-gradient(to_bottom,#38bdf8_1px,transparent_1px)] bg-[size:3rem_3rem] opacity-50"></div>


  <!-- Content Container - TIDAK ADA mx-auto di sini! -->
  <div class="relative w-full px-6 sm:px-10 lg:px-12">
    <div class="mx-auto flex w-full max-w-7xl flex-col items-center gap-12 lg:flex-row lg:items-center lg:gap-16">
      <!-- Left side: 3 cards -->
      <div class="flex flex-1 flex-wrap items-center justify-center gap-6 lg:flex-nowrap lg:justify-start">
        <!-- Card 1 -->
        <div class="group relative h-[200px] w-[180px] overflow-hidden rounded-[2.5rem] shadow-2xl shadow-slate-900/20 transition-all duration-500 hover:-translate-y-2 hover:shadow-3xl hover:shadow-cyan-500/20 sm:h-[240px] sm:w-[220px] lg:h-[260px] lg:w-[240px]">
          <img
            src="https://images.unsplash.com/photo-1526401485004-46910ecc8e51?auto=format&fit=crop&w=600&q=80"
            alt="Indoor basketball court"
            class="h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"
          />
          <!-- Gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-b from-sky-200/10 via-sky-900/30 to-sky-950/70 transition-opacity duration-500 group-hover:opacity-85"></div>
          
          <!-- Subtle border glow -->
          <div class="absolute inset-0 rounded-[2.5rem] border border-white/10 transition-all duration-500 group-hover:border-cyan-400/40"></div>
          
          <!-- Content -->
          <div class="absolute inset-x-0 bottom-7 flex flex-col items-center gap-2 px-5 text-center text-white transition-transform duration-500 group-hover:translate-y-0">
            <span class="text-2xl font-bold tracking-tight">50+ Venues</span>
            <div class="h-px w-12 bg-gradient-to-r from-transparent via-cyan-400/60 to-transparent"></div>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/85">Across Indonesia</span>
          </div>
        </div>

        <!-- Card 2 -->
        <div class="group relative h-[200px] w-[180px] overflow-hidden rounded-[2.5rem] shadow-2xl shadow-slate-900/20 transition-all duration-500 hover:-translate-y-2 hover:shadow-3xl hover:shadow-sky-500/20 sm:h-[240px] sm:w-[220px] lg:h-[260px] lg:w-[240px]">
          <img
            src="https://www.fwd.co.id/images/v3/assets/blt0c90459332411c22/bltac5b9066c50a4c74/66a08659cc91753e0c2ec23b/Apakah-Olahraga-di-Malam-Hari-Baik-Untuk-Kesehatan-mobile.webp"
            alt="Sports equipment"
            class="h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"
          />
          <div class="absolute inset-0 bg-gradient-to-b from-slate-900/5 via-slate-900/40 to-slate-900/90 transition-opacity duration-500 group-hover:opacity-95"></div>
          <div class="absolute inset-0 rounded-[2.5rem] border border-white/10 transition-all duration-500 group-hover:border-sky-400/40"></div>
          
          <div class="absolute inset-x-0 bottom-7 flex flex-col items-center gap-2 px-5 text-center text-white transition-transform duration-500 group-hover:translate-y-0">
            <span class="text-2xl font-bold tracking-tight">5+ Sports</span>
            <div class="h-px w-12 bg-gradient-to-r from-transparent via-sky-400/60 to-transparent"></div>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/85">All Skill Levels</span>
          </div>
        </div>

        <!-- Card 3 -->
        <div class="group relative h-[260px] w-[240px] overflow-hidden rounded-[2.5rem] shadow-2xl shadow-slate-900/20 transition-all duration-500 hover:-translate-y-2 hover:shadow-3xl hover:shadow-emerald-500/20">
          <img
            src="https://st.depositphotos.com/1005563/3256/i/450/depositphotos_32564723-stock-photo-sports-balls-a-lot-of.jpg"
            class="h-full w-full object-cover transition-transform duration-700 group-hover:scale-110"
          />
          <div class="absolute inset-0 bg-gradient-to-b from-slate-900/5 via-slate-900/40 to-slate-900/90 transition-opacity duration-500 group-hover:opacity-95"></div>
          <div class="absolute inset-0 rounded-[2.5rem] border border-white/10 transition-all duration-500 group-hover:border-emerald-400/40"></div>
          
          <div class="absolute inset-x-0 bottom-7 flex flex-col items-center gap-2 px-5 text-center text-white transition-transform duration-500 group-hover:translate-y-0">
            <span class="text-2xl font-bold tracking-tight">New Add-ons</span>
            <div class="h-px w-12 bg-gradient-to-r from-transparent via-emerald-400/60 to-transparent"></div>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/85">Weekly Updates</span>
          </div>
        </div>
      </div>

      <!-- Right side: CTA Button -->
      <div class="flex w-full items-center justify-center lg:flex-1 lg:justify-end">
        <form method="get" action="{% url 'catalog' %}">
          <button
            type="submit"
            class="group relative inline-flex items-center justify-center gap-3 overflow-hidden rounded-full bg-gradient-to-r from-[#1B89AE] via-sky-500 to-[#15647F] px-16 py-5 text-lg font-bold uppercase tracking-[0.2em] text-white shadow-[0_20px_50px_rgba(14,116,144,0.4)] transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_25px_60px_rgba(14,116,144,0.5)]"
            data-ripple
          >
            <!-- Animated shine effect -->
            <div class="absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-700 group-hover:translate-x-full"></div>
            
            <!-- Button content -->
            <span class="relative inline-flex items-center gap-3">
              Explore venues
              <svg class="h-5 w-5 transition-transform duration-300 group-hover:translate-x-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
              </svg>
            </span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
  <div class="w-full px-6 py-16 sm:px-10" data-animate>
    <div class="flex flex-col items-center gap-3 text-center">
      <h2 class="text-3xl font-semibold text-white drop-shadow-[0_8px_30px_rgba(14,165,233,0.4)]">Top 3 Venues</h2>
      <p class="text-sm text-white/70">Handpicked places loved by the RagaSpace community.</p>
    </div>
    <div id="catalog-grid" class="mt-10 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {% for venue in popular_venues|slice:":3" %}
      {% include 'partials/venue_card.html' with venue=venue wishlist_ids=wishlist_ids wishlist_next_url=request.get_full_path %}
      {% empty %}
      <p class="text-white/70">No popular venues yet.</p>
      {% endfor %}
    </div>
  </div>
  <div class="w-full px-6 pb-20 sm:px-10" data-animate>
    <div class="mx-auto flex w-full max-w-6xl flex-col items-center gap-10">
      <h2 class="text-3xl font-semibold text-white drop-shadow-[0_8px_30px_rgba(14,165,233,0.4)]">What They said about RagaSpace?</h2>
      <div class="w-full overflow-hidden rounded-[3rem] bg-gradient-to-br from-white/10 via-white/5 to-cyan-500/10 p-[1px] shadow-2xl shadow-slate-950/50 backdrop-blur-2xl">
        <div
          id="testimonial-card"
          class="flex flex-col gap-8 rounded-[3rem] bg-slate-950/70 px-8 py-10 sm:px-12 lg:flex-row lg:items-center lg:gap-12"
        >
          <div class="flex justify-center lg:w-[40%]">
            {% if testimonials %}
            <img
              id="testimonial-image"
              src="{{ testimonials.0.image }}"
              alt="Foto testimoni {{ testimonials.0.name }}"
              class="h-64 w-64 rounded-[3rem] object-cover shadow-xl shadow-cyan-500/30"
            />
            {% endif %}
          </div>
          <div class="flex-1 space-y-6 text-white/90">
            <div>
              <p id="testimonial-name" class="text-2xl font-semibold text-white">{{ testimonials.0.name }}</p>
              <p id="testimonial-role" class="text-sm uppercase tracking-[0.35em] text-cyan-200/80">{{ testimonials.0.role }}</p>
            </div>
            <div id="testimonial-paragraphs" class="space-y-4">
              {% for paragraph in testimonials.0.paragraphs %}
              <p class="leading-relaxed text-white/80">{{ paragraph }}</p>
              {% endfor %}
            </div>
            <div class="flex items-center justify-between pt-4">
              <div class="flex gap-2">
                {% for testimonial in testimonials %}
                <span class="h-2 w-8 rounded-full bg-white/20 transition-colors duration-300{% if forloop.first %} bg-cyan-400/80{% endif %}" data-indicator></span>
                {% endfor %}
              </div>
              <div class="flex gap-3">
                <button id="testimonial-prev" type="button" class="flex h-10 w-10 items-center justify-center rounded-full border border-white/20 bg-white/5 text-white transition hover:border-cyan-400/70 hover:text-cyan-300" aria-label="Review sebelumnya">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                  </svg>
                </button>
                <button id="testimonial-next" type="button" class="flex h-10 w-10 items-center justify-center rounded-full border border-white/20 bg-white/5 text-white transition hover:border-cyan-400/70 hover:text-cyan-300" aria-label="Review selanjutnya">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% if testimonials %}
{{ testimonials|json_script:"testimonials-data" }}

<script>
  (function () {
    const dataElement = document.getElementById("testimonials-data");
    if (!dataElement) {
      return;
    }

    const testimonials = JSON.parse(dataElement.textContent);
    if (!Array.isArray(testimonials) || testimonials.length === 0) {
      return;
    }

    const cardEl = document.getElementById("testimonial-card");
    const imageEl = document.getElementById("testimonial-image");
    const nameEl = document.getElementById("testimonial-name");
    const roleEl = document.getElementById("testimonial-role");
    const paragraphsEl = document.getElementById("testimonial-paragraphs");
    const indicators = Array.from(document.querySelectorAll('[data-indicator]'));
    const prevButton = document.getElementById("testimonial-prev");
    const nextButton = document.getElementById("testimonial-next");

    let currentIndex = 0;
    let intervalId = null;
    let isAnimating = false;
    const intervalDuration = 4000;

    const updateIndicators = (index) => {
      indicators.forEach((indicator, indicatorIndex) => {
        indicator.classList.toggle("bg-cyan-400/80", indicatorIndex === index);
        indicator.classList.toggle("bg-white/20", indicatorIndex !== index);
      });
    };

    // Animasi slide dengan direction (next/prev)
    const animateSlide = (direction) => {
      if (isAnimating) return;
      isAnimating = true;

      // Slide out (keluar)
      if (direction === 'next') {
        cardEl.style.transform = 'translateX(-100%)';
        cardEl.style.opacity = '0';
      } else {
        cardEl.style.transform = 'translateX(100%)';
        cardEl.style.opacity = '0';
      }

      // Tunggu animasi selesai, lalu render content baru
      setTimeout(() => {
        // Render testimonial baru
        const testimonial = testimonials[currentIndex];
        if (!testimonial) {
          isAnimating = false;
          return;
        }

        // Update content
        if (imageEl) {
          imageEl.src = testimonial.image;
          imageEl.alt = `Foto testimoni ${testimonial.name}`;
        }
        nameEl.textContent = testimonial.name;
        roleEl.textContent = testimonial.role;

        paragraphsEl.innerHTML = "";
        (testimonial.paragraphs || []).forEach((paragraph) => {
          const paragraphEl = document.createElement("p");
          paragraphEl.className = "leading-relaxed text-white/80";
          paragraphEl.textContent = paragraph;
          paragraphsEl.appendChild(paragraphEl);
        });

        updateIndicators(currentIndex);

        // Reset posisi ke sisi berlawanan (untuk slide in)
        if (direction === 'next') {
          cardEl.style.transform = 'translateX(100%)';
        } else {
          cardEl.style.transform = 'translateX(-100%)';
        }

        // Force reflow
        cardEl.offsetHeight;

        // Slide in (masuk)
        cardEl.style.transform = 'translateX(0)';
        cardEl.style.opacity = '1';

        // Reset animating flag setelah animasi selesai
        setTimeout(() => {
          isAnimating = false;
        }, 800);
      }, 600);
    };

    const renderTestimonial = (index, animated = false, direction = 'next') => {
      if (animated) {
        animateSlide(direction);
      } else {
        // Initial render tanpa animasi
        const testimonial = testimonials[index];
        if (!testimonial) return;

        if (imageEl) {
          imageEl.src = testimonial.image;
          imageEl.alt = `Foto testimoni ${testimonial.name}`;
        }
        nameEl.textContent = testimonial.name;
        roleEl.textContent = testimonial.role;

        paragraphsEl.innerHTML = "";
        (testimonial.paragraphs || []).forEach((paragraph) => {
          const paragraphEl = document.createElement("p");
          paragraphEl.className = "leading-relaxed text-white/80";
          paragraphEl.textContent = paragraph;
          paragraphsEl.appendChild(paragraphEl);
        });

        updateIndicators(index);
      }
    };

    const showNext = () => {
      currentIndex = (currentIndex + 1) % testimonials.length;
      renderTestimonial(currentIndex, true, 'next');
    };

    const showPrevious = () => {
      currentIndex = (currentIndex - 1 + testimonials.length) % testimonials.length;
      renderTestimonial(currentIndex, true, 'prev');
    };

    const restartInterval = () => {
      if (intervalId) {
        clearInterval(intervalId);
      }
      intervalId = setInterval(showNext, intervalDuration);
    };

    if (prevButton) {
      prevButton.addEventListener("click", () => {
        showPrevious();
        restartInterval();
      });
    }

    if (nextButton) {
      nextButton.addEventListener("click", () => {
        showNext();
        restartInterval();
      });
    }

    // Tambahkan CSS transition untuk animasi smooth
    if (cardEl) {
      cardEl.style.transition = 'transform 2s ease-in-out, opacity 2s ease-in-out';
      cardEl.style.willChange = 'transform, opacity';
    }

    // Initial render
    renderTestimonial(currentIndex);
    restartInterval();
  })();
</script>
{% endif %}
{% endblock %}
