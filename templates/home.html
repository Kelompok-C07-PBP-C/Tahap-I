{% extends 'base.html' %}
{% load static humanize %}
{% block title %}Home • RagaSpace{% endblock %}
{% block page_shell_class %}relative flex min-h-screen w-full flex-col px-0 pb-0 pt-0{% endblock %}
{% block main_class %}flex-1 flex flex-col gap-0{% endblock %}
{% block navbar_extra %}
<section class="relative isolate w-full">
  <img
    src="{% static 'images/ragaspace-hero.svg' %}"
    alt="Athletes training across multiple sports"
    class="h-[65vh] w-full object-cover sm:h-[70vh] lg:h-[75vh]"
  />
  <div class="absolute inset-0 bg-gradient-to-br from-slate-950/40 via-slate-950/55 to-slate-950/75"></div>
  <div class="absolute inset-0 flex items-center justify-center px-4 sm:px-6 lg:px-10">
    <div class="w-full max-w-5xl" data-animate>
      <form
        method="get"
        action="{% url 'catalog' %}"
        class="flex w-full flex-wrap items-center justify-center gap-6 rounded-[2.75rem] border border-white/15 bg-slate-950/80 px-6 py-6 text-white/90 shadow-2xl shadow-slate-950/50 backdrop-blur-2xl md:flex-nowrap md:gap-20 md:px-12"
      >
        <div class="flex w-full flex-col gap-3 md:w-auto">
          <span class="flex items-center gap-2 text-sm font-medium text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
            </svg>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">All cities</span>
          </span>
          {{ global_filter_form.city }}
        </div>
        <div class="flex w-full flex-col gap-3 md:w-auto">
          <span class="flex items-center gap-2 text-sm font-medium text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6l3 3" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">All categories</span>
          </span>
          {{ global_filter_form.category }}
        </div>
        <div class="flex w-full flex-col gap-3 md:w-auto">
          <span class="flex items-center gap-2 text-sm font-medium text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h6" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 12A9 9 0 113 12a9 9 0 0118 0z" />
            </svg>
            <span class="text-xs font-medium uppercase tracking-[0.35em] text-white/60">Max price</span>
          </span>
          {{ global_filter_form.max_price }}
        </div>
        <button
          type="submit"
          class="w-full rounded-2xl bg-[#1B89AE] px-6 py-3 text-sm font-semibold text-white transition-colors duration-150 hover:bg-[#15647F] md:w-auto"
        >
          Search
        </button>
      </form>
    </div>
  </div>
</section>
{% endblock %}
{% block content %}
<section class="flex w-full flex-col" data-animate>
  <div class="w-full bg-white py-6 text-slate-900" data-animate>
    <div class="mx-auto flex w-full max-w-7xl flex-col gap-12 px-6 sm:px-10 lg:flex-row lg:items-center lg:justify-between">
      <div class="flex flex-1 flex-wrap items-center justify-center gap-6 lg:flex-nowrap lg:justify-start">
        <img
          src="https://images.unsplash.com/photo-1526401485004-46910ecc8e51?auto=format&fit=crop&w=600&q=80"
          alt="Indoor basketball court"
          class="h-[240px] w-[228px] rounded-[2rem] object-cover shadow-xl shadow-slate-900/15"
        />
        <img
          src="https://images.unsplash.com/photo-1530822847156-5df684ec5c7e?auto=format&fit=crop&w=600&q=80"
          alt="Sports equipment"
          class="h-[240px] w-[228px] rounded-[2rem] object-cover shadow-xl shadow-slate-900/15"
        />
        <img
          src="https://images.unsplash.com/photo-1503341733011-1901565cf0f2?auto=format&fit=crop&w=600&q=80"
          alt="Outdoor football field"
          class="h-[240px] w-[228px] rounded-[2rem] object-cover shadow-xl shadow-slate-900/15"
        />
      </div>
      <div class="flex-1 lg:max-w-2xl lg:pl-16">
        <div class="flex flex-col items-end gap-6 text-right">
          <div class="space-y-4">
            <h1 class="text-4xl font-semibold text-slate-900 md:text-5xl">From Court to Field</h1>
            <p class="text-base text-slate-700">
              Discover fields that inspire, gear that performs, and moments that keep your game alive.
            </p>
          </div>
          <form method="get" action="{% url 'catalog' %}" class="flex w-full justify-end">
            <button
              type="submit"
              class="interactive-glow group inline-flex items-center justify-center gap-3 rounded-full bg-gradient-to-r from-[#1B89AE] via-sky-500 to-[#15647F] px-12 py-4 text-lg font-semibold uppercase tracking-[0.2em] text-white shadow-[0_18px_45px_rgba(14,116,144,0.35)] transition"
              data-ripple
            >
              <span class="inline-flex items-center gap-2">
                Explore venues
                <svg class="h-5 w-5 transition-transform duration-300 group-hover:translate-x-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                </svg>
              </span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class="w-full px-6 py-16 sm:px-10" data-animate>
    <div class="flex flex-col items-center gap-3 text-center">
      <h2 class="text-4xl font-semibold text-white drop-shadow-[0_8px_35px_rgba(14,165,233,0.45)]">Top 3 Venues</h2>
      <p class="text-sm text-white/70">Handpicked places loved by the RagaSpace community.</p>
    </div>
    <div class="mt-10 grid gap-6 md:grid-cols-3 md:gap-8">
      {% for venue in popular_venues|slice:":3" %}
      <article
        class="card-tilt group relative flex h-full flex-col overflow-hidden rounded-[3rem] border border-white/15 bg-white/5 p-6 text-white shadow-2xl shadow-slate-950/50 backdrop-blur-2xl transition hover:bg-white/10"
        data-animate
      >
        <img src="{{ venue.image_url }}" alt="{{ venue.name }}" class="h-64 w-full rounded-2xl object-cover" />
        <div class="mt-6 flex items-start justify-between gap-4">
          <div class="space-y-2">
            <p class="text-xs font-semibold uppercase tracking-[0.4em] text-white/60">{{ venue.category.name }}</p>
            <h3 class="text-2xl font-semibold leading-snug">{{ venue.name }}</h3>
            <p class="text-sm text-white/70">{{ venue.city }}</p>
          </div>
          <button
            data-venue="{{ venue.id }}"
            data-wishlisted="{% if venue.id in wishlist_ids %}true{% else %}false{% endif %}"
            data-venue-name="{{ venue.name|escape }}"
            data-venue-city="{{ venue.city|escape }}"
            data-venue-category="{{ venue.category.name|escape }}"
            data-venue-price="{{ venue.price_per_hour }}"
            data-venue-url="{% url 'venue-detail' slug=venue.slug %}"
            data-venue-image="{{ venue.image_url|escape }}"
            data-venue-description="{{ venue.description|truncatechars:120|escape }}"
            class="wishlist-button {% if venue.id in wishlist_ids %}wishlist-button--active{% endif %} rounded-full border border-white/20 bg-white/10 p-3 text-white transition hover:bg-white/20"
            aria-label="Toggle wishlist"
            aria-pressed="{% if venue.id in wishlist_ids %}true{% else %}false{% endif %}"
          >
            <svg xmlns="http://www.w3.org/2000/svg" fill="{% if venue.id in wishlist_ids %}#ef4444{% else %}none{% endif %}" viewBox="0 0 24 24" stroke-width="1.5" stroke="{% if venue.id in wishlist_ids %}#ef4444{% else %}currentColor{% endif %}" class="h-6 w-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
            </svg>
          </button>
        </div>
        <p class="mt-4 text-sm text-white/70">{{ venue.description|truncatechars:140 }}</p>
        <div class="mt-6 flex items-center justify-between">
          <span class="rounded-full border border-white/25 bg-white/10 px-5 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-white/80">
            Rp {{ venue.price_per_hour|floatformat:0|intcomma }} / sesi
          </span>
          <a
            href="{% url 'venue-detail' slug=venue.slug %}"
            class="interactive-glow rounded-2xl bg-white/10 px-5 py-2 text-sm font-semibold text-white transition hover:bg-white/20"
            data-ripple
          >
            View product
          </a>
        </div>
      </article>
      {% empty %}
      <p class="text-white/70">No popular venues yet.</p>
      {% endfor %}
    </div>
  </div>
  <div class="w-full px-6 pb-20 sm:px-10" data-animate>
    <div class="mx-auto flex w-full max-w-6xl flex-col items-center gap-10">
      <h2 class="text-3xl font-semibold text-white drop-shadow-[0_8px_30px_rgba(14,165,233,0.35)]">What She said about RagaSpace?</h2>
      <div class="w-full overflow-hidden rounded-[3rem] bg-gradient-to-br from-white/10 via-white/5 to-cyan-500/10 p-[1px] shadow-2xl shadow-slate-950/50 backdrop-blur-2xl">
        <div class="flex flex-col gap-8 rounded-[3rem] bg-slate-950/70 px-8 py-10 sm:px-12 lg:flex-row lg:items-center lg:gap-12">
          <div class="flex justify-center lg:w-[40%]">
            <img
              src="https://images.unsplash.com/photo-1544723795-3fb6469f5b39?auto=format&fit=crop&w=600&q=80"
              alt="Happy athlete testimonial"
              class="h-64 w-64 rounded-[3rem] object-cover shadow-xl shadow-cyan-500/30"
            />
          </div>
          <div class="flex-1 space-y-6 text-white/90">
            <div>
              <p class="text-2xl font-semibold text-white">Rindu Aurellia</p>
              <p class="text-sm uppercase tracking-[0.35em] text-cyan-200/80">Anak Padi</p>
            </div>
            <p class="leading-relaxed text-white/80">
              “Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus viverra diam vel ultricies vehicula. Suspendisse ultrices mi in venenatis luctus. Integer sed risus eget eros sagittis accumsan. Fusce leo lectus, eleifend nec mi ut, rhoncus posuere magna.”
            </p>
            <p class="leading-relaxed text-white/80">
              “Proin tincidunt, arcu nec mollis dapibus, sapien est accumsan orci, at iaculis ligula nisl tristique metus. Duis sagittis ipsum metus, feugiat lobortis lacus placerat eget.”
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
